[{"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\App.js":"1","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\screens\\Home.js":"2","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\action\\CrimeAction.js":"3","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\reducers\\CrimeReducer.js":"4","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\services\\api.js":"5","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\components\\Table.js":"6","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\components\\Modal.js":"7","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\services\\requests.js":"8"},{"size":630,"mtime":1611107235832,"results":"9","hashOfConfig":"10"},{"size":3768,"mtime":1611403275665,"results":"11","hashOfConfig":"10"},{"size":4253,"mtime":1611406399484,"results":"12","hashOfConfig":"10"},{"size":3226,"mtime":1610925011840,"results":"13","hashOfConfig":"10"},{"size":132,"mtime":1610499836900,"results":"14","hashOfConfig":"10"},{"size":2784,"mtime":1611409393097,"results":"15","hashOfConfig":"10"},{"size":3049,"mtime":1611409941891,"results":"16","hashOfConfig":"10"},{"size":2135,"mtime":1611406462491,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"nvqmll",{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\App.js",[],"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\screens\\Home.js",["36"],"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\action\\CrimeAction.js",[],"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\reducers\\CrimeReducer.js",[],"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\services\\api.js",[],"C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\components\\Table.js",["37","38","39"],"import React, { useEffect, useState } from 'react'\r\nimport moment from 'moment'\r\nimport { FaTrashAlt, FaRegFile } from \"react-icons/fa\";\r\nimport crimeRequests from '../services/requests'\r\nimport Modal from './Modal'\r\n\r\nconst Table = ({data}) => {\r\n\r\n  const [show, setShow] = useState(false)\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'ID',},\r\n    { field: 'criminal', headerName: 'Criminal', },\r\n    { field: 'date', headerName: 'Data',  },\r\n    { field: 'victims', headerName: 'Vitímas', },\r\n    { field: 'country', headerName: 'Países', },\r\n    { field: 'details', headerName: 'Detalhes', },\r\n  ]\r\n\r\n  function showModal(){\r\n    setShow(true)\r\n  }\r\n  function hideModal(){\r\n    setShow(false)\r\n  }\r\n  function toggleModal(){\r\n    if(show){\r\n      hideModal()\r\n    }else{\r\n      showModal()\r\n    }\r\n  }\r\n\r\n  function renderColums() {\r\n    return columns.map(item => <th key={item.field}>{item.headerName}</th> )\r\n  }\r\n  \r\n  const [lines, setLines] = useState([])\r\n  const [idCrime, setIdCrime] = useState(0)\r\n  useEffect(() => {\r\n    let array = []\r\n    if(data){\r\n      data.map(item => {\r\n        array.push(\r\n          {\r\n            id : item.id_crime,\r\n            criminal : '',\r\n            date: item.crime_date,\r\n            victims: item.victims_crime[0]?.victim,\r\n            country: item.country\r\n          }\r\n        )\r\n      })\r\n      setLines(array)\r\n    }\r\n  }, [data])\r\n\r\n  function deleteCrime(id_crime){\r\n    crimeRequests.deleteCrime(id_crime, () => {\r\n      alert('Crime deletado com sucesso')\r\n    })\r\n  }\r\n  \r\n  return(\r\n    <div style={{ height: '100%', width: '100%' }}>\r\n      <table>\r\n        <tbody>\r\n          <tr>{ renderColums() }</tr>\r\n          {\r\n            lines.map(item => {\r\n              return(\r\n                <tr key={item.id}>\r\n                  <td>{item.id}</td>\r\n                  <td>{item.criminal}</td>\r\n                  <td>{moment(item.date).format('DD/MM/YYYY')}</td>\r\n                  <td>{item.victims}</td>\r\n                  <td>{item.country}</td>\r\n                  <td \r\n                    style={{flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingLeft: 18}}>\r\n                    <a onClick={() => deleteCrime(item.id)}>\r\n                      <FaTrashAlt />\r\n                    </a>\r\n                    <a onClick={() => {\r\n                        toggleModal()\r\n                        setIdCrime(item.id)\r\n                      }}\r\n                    >\r\n                      <FaRegFile />\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })\r\n          }\r\n        </tbody>\r\n      </table>\r\n      {show && \r\n        <Modal show={show} idCrime={idCrime} />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Table","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\components\\Modal.js",["40","41","42","43"],"import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as crimeAction from '../action/CrimeAction'\r\nimport crimeRequests from '../services/requests'\r\nimport { bindActionCreators } from 'redux'\r\nimport { FaRegWindowClose, FaTrashAlt} from \"react-icons/fa\";\r\nimport moment from 'moment'\r\n\r\n\r\nconst Modal = props => {\r\n\r\n  useEffect(() => {\r\n    props.crime.getCrime(props.idCrime)\r\n  }, [])\r\n  const [show, setShow] = useState(props.show)\r\n  const crime = props.dataCrime.crime.data\r\n\r\n  function showModal(){\r\n    setShow(true)\r\n  }\r\n  function hideModal(){\r\n    setShow(false)\r\n  }\r\n  function toggleModal(){\r\n    if(show){\r\n      hideModal()\r\n    }else{\r\n      showModal()\r\n    }\r\n  }\r\n  function deleteCrime(id_crime){\r\n    crimeRequests.deleteCrime(id_crime, () => {\r\n      alert('Crime deletado com sucesso')\r\n    })\r\n    window.location.reload()\r\n  }\r\n\r\n  function renderInfo(data, type){\r\n    data.map(item => {\r\n      switch(type){\r\n        case 'crimeType':\r\n          return item.crime_types\r\n        case 'weapon':\r\n          return (\r\n            item.weapon,\r\n            item.weapon_type\r\n          )\r\n        case 'victim':\r\n          return item.victim\r\n        default:\r\n          return null\r\n      }\r\n    })\r\n  }\r\n\r\n  function renderContext(){\r\n    return(\r\n      <div className='contextModal'>\r\n        <h1>Crime</h1>\r\n        <p className='titleContext'>Tipo do crime</p>\r\n        <p>{crime.criminal_crime_types <= 0 ? 'Nenhum tipo de crime' : renderInfo(crime.criminal_crime_types, 'crimeType')}</p>\r\n        <div>\r\n          <p>{moment(crime.crime_date).format('DD/MM/YYYY, h:mm:ss a') || null}</p>\r\n          <p>{crime.country || null}</p>\r\n        </div>\r\n        <h3>Criminoso</h3>\r\n        <div>\r\n          <p className='titleContext'>Arma</p>\r\n          <p>{crime.weapons_crime <= 0 ? 'Nenhuma arma' : renderInfo(crime.weapons_crime, 'weapon')}</p>\r\n        </div>\r\n        <div>\r\n          <p className='titleContext'>Vitimas</p>\r\n          <p>{crime.victims_crime <= 0 ? 'Nenhuma vitima' : renderInfo(crime.victims_crime, 'victim')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <>\r\n      {crime > 0 || crime !== undefined ?\r\n        <div className='containerModal'>\r\n          <div className='modal'>\r\n            <div className='containerIcon'>\r\n              {/* <a  onClick={() => toggleModal()}>\r\n                <FaRegWindowClose />\r\n              </a> */}\r\n              <a className='offset-lg-10' onClick={() => deleteCrime(props.idCrime)}>\r\n                <FaTrashAlt />\r\n              </a>\r\n            </div>\r\n            {renderContext()}\r\n          </div>\r\n        </div>\r\n        :\r\n        alert('Não foi possivel abrir os detalhes do crime, tente novamente mais tarde')\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  dataCrime: state.crime\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  crime : bindActionCreators(crimeAction, dispatch)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal)","C:\\Users\\Roberta\\Music\\projetos\\crime-manager\\src\\services\\requests.js",[],{"ruleId":"44","severity":1,"message":"45","line":36,"column":6,"nodeType":"46","endLine":36,"endColumn":8,"suggestions":"47"},{"ruleId":"48","severity":1,"message":"49","line":43,"column":21,"nodeType":"50","messageId":"51","endLine":43,"endColumn":23},{"ruleId":"52","severity":1,"message":"53","line":80,"column":21,"nodeType":"54","endLine":80,"endColumn":61},{"ruleId":"52","severity":1,"message":"53","line":83,"column":21,"nodeType":"54","endLine":87,"endColumn":22},{"ruleId":"55","severity":1,"message":"56","line":6,"column":10,"nodeType":"57","messageId":"58","endLine":6,"endColumn":26},{"ruleId":"44","severity":1,"message":"59","line":14,"column":6,"nodeType":"46","endLine":14,"endColumn":8,"suggestions":"60"},{"ruleId":"55","severity":1,"message":"61","line":24,"column":12,"nodeType":"57","messageId":"58","endLine":24,"endColumn":23},{"ruleId":"52","severity":1,"message":"53","line":88,"column":15,"nodeType":"54","endLine":88,"endColumn":86},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'props.crime' and 'props.dataCrime'. Either include them or remove the dependency array.","ArrayExpression",["62"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-unused-vars","'FaRegWindowClose' is defined but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'props.crime' and 'props.idCrime'. Either include them or remove the dependency array.",["63"],"'toggleModal' is defined but never used.",{"desc":"64","fix":"65"},{"desc":"66","fix":"67"},"Update the dependencies array to be: [props.crime, props.dataCrime]",{"range":"68","text":"69"},"Update the dependencies array to be: [props.crime, props.idCrime]",{"range":"70","text":"71"},[1175,1177],"[props.crime, props.dataCrime]",[430,432],"[props.crime, props.idCrime]"]